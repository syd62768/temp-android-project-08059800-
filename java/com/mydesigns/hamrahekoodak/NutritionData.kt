package com.mydesigns.hamrahekoodak

data class Meal(val name: String)

data class DailyPlan(
    val dayName: String,
    val dayIcon: String,
    val breakfast: Meal,
    val lunch: Meal,
    val dinner: Meal,
    val snack: Meal
)

object NutritionData {

    // =====================================================================================
    // =================== برنامه غذایی ۶ تا ۸ ماهگی (۴ هفته متنوع) ===================
    // =====================================================================================
    private val monthPlan6to8 = listOf(
        // --- هفته اول ---
        listOf(
            DailyPlan("شنبه", "☀️", Meal("فرنی بادام"), Meal("سوپ هویج و سیب‌زمینی"), Meal("شیر مادر/خشک"), Meal("پوره سیب")),
            DailyPlan("یکشنبه", "💧", Meal("حریره بادام"), Meal("سوپ مرغ و ورمیشل"), Meal("شیر مادر/خشک"), Meal("پوره گلابی")),
            DailyPlan("دوشنبه", "🌱", Meal("فرنی آرد برنج"), Meal("سوپ کدو حلوایی"), Meal("شیر مادر/خشک"), Meal("موز له‌شده")),
            DailyPlan("سه‌شنبه", "🥚", Meal("زرده تخم‌مرغ (کمی)"), Meal("سوپ سبزیجات با گوشت"), Meal("شیر مادر/خشک"), Meal("پوره هلو")),
            DailyPlan("چهارشنبه", "🌾", Meal("فرنی"), Meal("سوپ مرغ و جعفری"), Meal("شیر مادر/خشک"), Meal("پوره سیب")),
            DailyPlan("پنج‌شنبه", "🥕", Meal("حریره بادام"), Meal("سوپ هویج و برنج"), Meal("شیر مادر/خشک"), Meal("پوره گلابی")),
            DailyPlan("جمعه", "❤️", Meal("زرده تخم‌مرغ"), Meal("سوپ ماهیچه"), Meal("شیر مادر/خشک"), Meal("موز له‌شده"))
        ),
        // --- هفته دوم ---
        listOf(
            DailyPlan("شنبه", "☀️", Meal("فرنی با جوانه گندم"), Meal("سوپ گوجه (بی‌پوست)"), Meal("شیر مادر/خشک"), Meal("پوره زردآلو")),
            DailyPlan("یکشنبه", "💧", Meal("حریره پسته"), Meal("سوپ مرغ و لوبیا سبز"), Meal("شیر مادر/خشک"), Meal("پوره سیب")),
            DailyPlan("دوشنبه", "🌱", Meal("زرده تخم‌مرغ"), Meal("سوپ کدو و سیب‌زمینی"), Meal("شیر مادر/خشک"), Meal("موز له‌شده")),
            DailyPlan("سه‌شنبه", "🥚", Meal("فرنی"), Meal("سوپ گوشت و برنج"), Meal("شیر مادر/خشک"), Meal("پوره گلابی")),
            DailyPlan("چهارشنبه", "🌾", Meal("حریره بادام"), Meal("سوپ مرغ و هویج"), Meal("شیر مادر/خشک"), Meal("پوره هلو")),
            DailyPlan("پنج‌شنبه", "🥕", Meal("زرده تخم‌مرغ"), Meal("سوپ کدو حلوایی و عدس"), Meal("شیر مادر/خشک"), Meal("پوره سیب")),
            DailyPlan("جمعه", "❤️", Meal("فرنی"), Meal("سوپ ماهیچه و سبزیجات"), Meal("شیر مادر/خشک"), Meal("موز له‌شده"))
        ),
        // --- هفته سوم ---
        listOf(
            DailyPlan("شنبه", "☀️", Meal("فرنی با شیره خرما"), Meal("سوپ کلم بروکلی"), Meal("شیر مادر/خشک"), Meal("پوره آلو")),
            DailyPlan("یکشنبه", "💧", Meal("زرده تخم‌مرغ"), Meal("سوپ مرغ و کدو سبز"), Meal("شیر مادر/خشک"), Meal("پوره سیب")),
            DailyPlan("دوشنبه", "🌱", Meal("حریره بادام"), Meal("سوپ عدس و سیب‌زمینی"), Meal("شیر مادر/خشک"), Meal("موز له‌شده")),
            DailyPlan("سه‌شنبه", "🥚", Meal("فرنی"), Meal("سوپ گوشت و جعفری"), Meal("شیر مادر/خشک"), Meal("پوره گلابی")),
            DailyPlan("چهارشنبه", "🌾", Meal("زرده تخم‌مرغ"), Meal("سوپ مرغ و رشته فرنگی"), Meal("شیر مادر/خشک"), Meal("پوره هلو")),
            DailyPlan("پنج‌شنبه", "🥕", Meal("حریره فندق"), Meal("سوپ سبزیجات متنوع"), Meal("شیر مادر/خشک"), Meal("پوره سیب")),
            DailyPlan("جمعه", "❤️", Meal("فرنی"), Meal("سوپ ماهیچه و هویج"), Meal("شیر مادر/خشک"), Meal("موز له‌شده"))
        ),
        // --- هفته چهارم ---
        listOf(
            DailyPlan("شنبه", "☀️", Meal("زرده تخم‌مرغ"), Meal("سوپ شلغم و سیب‌زمینی"), Meal("شیر مادر/خشک"), Meal("پوره گلابی")),
            DailyPlan("یکشنبه", "💧", Meal("فرنی"), Meal("سوپ مرغ و گشنیز"), Meal("شیر مادر/خشک"), Meal("پوره سیب")),
            DailyPlan("دوشنبه", "🌱", Meal("حریره بادام"), Meal("سوپ کدو حلوایی و ماش"), Meal("شیر مادر/خشک"), Meal("موز له‌شده")),
            DailyPlan("سه‌شنبه", "🥚", Meal("زرده تخم‌مرغ"), Meal("سوپ گوشت و لوبیا سبز"), Meal("شیر مادر/خشک"), Meal("پوره هلو")),
            DailyPlan("چهارشنبه", "🌾", Meal("فرنی جو دوسر"), Meal("سوپ مرغ و سیب‌زمینی"), Meal("شیر مادر/خشک"), Meal("پوره زردآلو")),
            DailyPlan("پنج‌شنبه", "🥕", Meal("حریره گردو"), Meal("سوپ سبزیجات با بلغور"), Meal("شیر مادر/خشک"), Meal("پوره سیب")),
            DailyPlan("جمعه", "❤️", Meal("زرده تخم‌مرغ"), Meal("سوپ ماهیچه و کدو"), Meal("شیر مادر/خشک"), Meal("موز له‌شده"))
        )
    )

    // =====================================================================================
    // =================== برنامه غذایی ۹ تا ۱۲ ماهگی (۴ هفته متنوع) ==================
    // =====================================================================================
    private val monthPlan9to12 = listOf(
        // --- هفته اول ---
        listOf(
            DailyPlan("شنبه", "☀️", Meal("عدسی نرم"), Meal("کته نرم با ماهیچه"), Meal("سوپ جو"), Meal("ماست و میوه")),
            DailyPlan("یکشنبه", "💧", Meal("تخم‌مرغ و نان نرم"), Meal("پلو مرغ (له شده)"), Meal("سوپ سبزیجات"), Meal("نان و پنیر")),
            DailyPlan("دوشنبه", "🌱", Meal("فرنی با جوانه گندم"), Meal("خوراک عدس و سیب‌زمینی"), Meal("کته با گوشت چرخ‌کرده"), Meal("پوره خرما")),
            DailyPlan("سه‌شنبه", "🍞", Meal("نان و پنیر و گردو (آسیاب شده)"), Meal("ماکارونی شکلی نرم"), Meal("سوپ مرغ"), Meal("میوه فصل")),
            DailyPlan("چهارشنبه", "🐟", Meal("عدسی"), Meal("کته با ماهی (بدون استخوان)"), Meal("سوپ ورمیشل"), Meal("ماست و خیار")),
            DailyPlan("پنج‌شنبه", "🥚", Meal("تخم‌مرغ آب‌پز"), Meal("خوراک لوبیا چیتی نرم"), Meal("کته و مرغ"), Meal("بیسکوییت مادر")),
            DailyPlan("جمعه", "❤️", Meal("فرنی"), Meal("آبگوشت (فقط مواد نرم)"), Meal("سوپ رشته"), Meal("میوه فصل"))
        ),
        // --- هفته دوم، سوم و چهارم (برای تنوع بیشتر می‌توانید این لیست‌ها را کامل‌تر و متنوع‌تر کنید) ---
        // در اینجا برای نمونه، هفته اول با تغییرات جزئی تکرار شده است
        listOf(
            DailyPlan("شنبه", "☀️", Meal("تخم مرغ املت"), Meal("کته گوجه با گوشت"), Meal("سوپ سبزیجات"), Meal("ماست و کدو")),
            DailyPlan("یکشنبه", "💧", Meal("نان و کره و عسل (بالای ۱ سال)"), Meal("دمی ماش با مرغ"), Meal("سوپ رشته"), Meal("میوه فصل")),
            DailyPlan("دوشنبه", "🌱", Meal("عدسی"), Meal("خوراک لوبیا سبز"), Meal("کته ماهیچه"), Meal("خرما")),
            DailyPlan("سه‌شنبه", "🍞", Meal("نان و پنیر و خیار"), Meal("ماکارونی با سویا"), Meal("سوپ جو"), Meal("بیسکوییت")),
            DailyPlan("چهارشنبه", "🐟", Meal("تخم مرغ آب پز"), Meal("کته با ماهی قزل آلا"), Meal("سوپ ورمیشل"), Meal("ماست میوه‌ای")),
            DailyPlan("پنج‌شنبه", "🥚", Meal("فرنی"), Meal("خوراک مرغ و سبزیجات"), Meal("کته ساده با کره"), Meal("موز")),
            DailyPlan("جمعه", "❤️", Meal("صبحانه دلخواه"), Meal("آبگوشت (له شده)"), Meal("سوپ شیر"), Meal("سیب پخته"))
        ),
        listOf(
            DailyPlan("شنبه", "☀️", Meal("عدسی نرم"), Meal("کته نرم با ماهیچه"), Meal("سوپ جو"), Meal("ماست و میوه")),
            DailyPlan("یکشنبه", "💧", Meal("تخم‌مرغ و نان نرم"), Meal("پلو مرغ (له شده)"), Meal("سوپ سبزیجات"), Meal("نان و پنیر")),
            DailyPlan("دوشنبه", "🌱", Meal("فرنی با جوانه گندم"), Meal("خوراک عدس و سیب‌زمینی"), Meal("کته با گوشت چرخ‌کرده"), Meal("پوره خرما")),
            DailyPlan("سه‌شنبه", "🍞", Meal("نان و پنیر و گردو (آسیاب شده)"), Meal("ماکارونی شکلی نرم"), Meal("سوپ مرغ"), Meal("میوه فصل")),
            DailyPlan("چهارشنبه", "🐟", Meal("عدسی"), Meal("کته با ماهی (بدون استخوان)"), Meal("سوپ ورمیشل"), Meal("ماست و خیار")),
            DailyPlan("پنج‌شنبه", "🥚", Meal("تخم‌مرغ آب‌پز"), Meal("خوراک لوبیا چیتی نرم"), Meal("کته و مرغ"), Meal("بیسکوییت مادر")),
            DailyPlan("جمعه", "❤️", Meal("فرنی"), Meal("آبگوشت (فقط مواد نرم)"), Meal("سوپ رشته"), Meal("میوه فصل"))
        ),
        listOf(
            DailyPlan("شنبه", "☀️", Meal("تخم مرغ املت"), Meal("کته گوجه با گوشت"), Meal("سوپ سبزیجات"), Meal("ماست و کدو")),
            DailyPlan("یکشنبه", "💧", Meal("نان و کره و عسل (بالای ۱ سال)"), Meal("دمی ماش با مرغ"), Meal("سوپ رشته"), Meal("میوه فصل")),
            DailyPlan("دوشنبه", "🌱", Meal("عدسی"), Meal("خوراک لوبیا سبز"), Meal("کته ماهیچه"), Meal("خرما")),
            DailyPlan("سه‌شنبه", "🍞", Meal("نان و پنیر و خیار"), Meal("ماکارونی با سویا"), Meal("سوپ جو"), Meal("بیسکوییت")),
            DailyPlan("چهارشنبه", "🐟", Meal("تخم مرغ آب پز"), Meal("کته با ماهی قزل آلا"), Meal("سوپ ورمیشل"), Meal("ماست میوه‌ای")),
            DailyPlan("پنج‌شنبه", "🥚", Meal("فرنی"), Meal("خوراک مرغ و سبزیجات"), Meal("کته ساده با کره"), Meal("موز")),
            DailyPlan("جمعه", "❤️", Meal("صبحانه دلخواه"), Meal("آبگوشت (له شده)"), Meal("سوپ شیر"), Meal("سیب پخته"))
        )
    )

    /**
     * **تابع هوشمند انتخاب برنامه غذایی**
     * این تابع بر اساس سن دقیق کودک به هفته، برنامه غذایی مناسب را برمی‌گرداند.
     */
    fun getPlanForCurrentWeek(ageInDays: Long): List<DailyPlan> {
        val ageInMonths = ageInDays / 30

        // ۱. انتخاب گروه برنامه‌های ماهانه بر اساس سن
        val monthlyPlan = when {
            ageInMonths in 6..8 -> monthPlan6to8
            ageInMonths in 9..12 -> monthPlan9to12
            ageInMonths in 13..24 -> monthPlan9to12 // برای بالای یکسال فعلا از همین برنامه استفاده می‌کنیم
            else -> return emptyList() // برای سنین زیر ۶ ماه
        }

        // ۲. محاسبه اینکه کودک در کدام هفته از زندگی‌اش قرار دارد
        val ageInWeeks = ageInDays / 7

        // ۳. با استفاده از باقیمانده تقسیم بر ۴، بین برنامه‌های هفتگی ماه می‌چرخیم
        // این کار باعث می‌شود برنامه هر ۷ روز یکبار به صورت خودکار تغییر کند
        val weekIndex = (ageInWeeks % 4).toInt()

        return monthlyPlan[weekIndex]
    }
}